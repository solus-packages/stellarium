name       : stellarium
version    : 0.16.1
release    : 8
source     :
    - https://nchc.dl.sourceforge.net/project/stellarium/Stellarium-sources/0.16.1/stellarium-0.16.1.tar.gz : b001c252afddaa1c470fb444fcbb5595b7f7a7db028d884743d20bcb5635fd20
license    : GPL-2.0
component  : education
summary    : Free open source planetarium application
description: |
    Stellarium is a free open source planetarium for your computer. It shows a realistic sky in 3D, just like what you see with the naked eye, binoculars or a telescope.
    It is being used in planetarium projectors. Just set your coordinates and go.
builddeps  :
    - pkgconfig(gl)
    - pkgconfig(Qt5Gui)
    - pkgconfig(Qt5Help)
    - pkgconfig(Qt5Multimedia)
    - pkgconfig(Qt5Script)
    - pkgconfig(Qt5SerialPort)
    - pkgconfig(Qt5Positioning)
rundeps    :
    - dejavu-fonts-ttf
setup      : |
    %cmake .
build      : |
    %make
install    : |
    %make_install

    # use system fonts
    rm $installdir/usr/share/stellarium/data/DejaVuSans{Mono,}.ttf
    ln -s /usr/share/fonts/truetype/dejavu/DejaVuSans.ttf $installdir/usr/share/stellarium/data/DejaVuSans.ttf
    ln -s /usr/share/fonts/truetype/dejavu/DejaVuSansMono.ttf $installdir/usr/share/stellarium/data/DejaVuSansMono.ttf
check      : |
    # currently disabled: https://bugs.launchpad.net/stellarium/+bug/1719076
    #make tests
